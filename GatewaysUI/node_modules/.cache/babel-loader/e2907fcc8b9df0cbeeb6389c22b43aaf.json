{"remainingRequest":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\src\\components\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\src\\components\\Home.vue","mtime":1622916093794},{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\babel-loader\\lib\\index.js","mtime":1622913458537},{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sava\\Desktop\\Gateways-MS\\GatewaysUI\\node_modules\\vue-loader\\lib\\index.js","mtime":1622913476820}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzcyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdhdGV3YXlzOiBbXSwKICAgICAgcGVyaXBoZXJhbHM6ICIiLAogICAgICBmb3JtOiBmYWxzZSwKICAgICAgZm9ybTI6IGZhbHNlLAogICAgICBzZWxlY3RlZFNOOiAiIiwKICAgICAgdmVuZG9yOiAiIiwKICAgICAgZGF0ZUNyZWF0ZWQ6IG5ldyBEYXRlKCksCiAgICAgIHN0YXR1czogIiIsCiAgICAgIGhybmFtZTogIiIsCiAgICAgIGlwdjQ6ICIiLAogICAgICBzZWU6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjEzMzcvYXBpL2dhdGV3YXknKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5nYXRld2F5cyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBlcmlwaGVyYWxzOiBmdW5jdGlvbiBnZXRQZXJpcGhlcmFscyhzbikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDoxMzM3L2FwaS9nYXRld2F5LycgKyBzbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIucGVyaXBoZXJhbHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5wZXJpcGhlcmFscyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFBlcmlwaGVyYWw6IGZ1bmN0aW9uIGFkZFBlcmlwaGVyYWwoKSB7CiAgICAgIHZhciBzdGF0dXNwID0gMDsKICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAiT25saW5lIikgc3RhdHVzcCA9IDE7CiAgICAgIHRoaXMuZGF0ZUNyZWF0ZWQgPSBuZXcgRGF0ZSgpOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjEzMzcvYXBpL3BlcmlwaGVyYWwnLCB7CiAgICAgICAgInZlbmRvciI6IHRoaXMudmVuZG9yLAogICAgICAgICJkYXRlQ3JlYXRlZCI6IHRoaXMuZGF0ZUNyZWF0ZWQsCiAgICAgICAgInN0YXR1cyI6IHN0YXR1c3AsCiAgICAgICAgImdhdGV3YXlTZXJpYWxOdW1iZXIiOiB0aGlzLnNlbGVjdGVkU04KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgYWxlcnQoIlRvbyBtYW55IHBlcmlwaGVyYWxzLCBvbmx5IDEwIGFsbG93ZWQiKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtID0gZmFsc2U7CiAgICB9LAogICAgZGVsZXRlUGVyaXBoZXJhbDogZnVuY3Rpb24gZGVsZXRlUGVyaXBoZXJhbChpZCkgewogICAgICBheGlvcy5kZWxldGUoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzNy9hcGkvcGVyaXBoZXJhbC8nICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkR2F0ZXdheTogZnVuY3Rpb24gYWRkR2F0ZXdheSgpIHsKICAgICAgaWYgKHRoaXMuaHJuYW1lID09ICIiIHx8IHRoaXMuaXB2NCA9PSAiIikgewogICAgICAgIGFsZXJ0KCJZb3UgbXVzdCBlbnRlciBkYXRhIGluIGFsbCBmaWVsZHMiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy9pcyBpcCBhZGRyZXNzIHZhbGlkPwoKCiAgICAgIGlmICghL14oWzEtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKShcLihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSQvLnRlc3QodGhpcy5pcHY0KSkgewogICAgICAgIGFsZXJ0KCJZb3UgaGF2ZSBlbnRlcmVkIGFuIGludmFsaWQgSVAgYWRkcmVzcyEiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy9odHRwIHBvc3QgY29tbWFuZAoKCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzNy9hcGkvZ2F0ZXdheScsIHsKICAgICAgICAiaHJuYW1lIjogdGhpcy5ocm5hbWUsCiAgICAgICAgImlwdjQiOiB0aGlzLmlwdjQsCiAgICAgICAgInBlcmlwaGVyYWxzIjogW10KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgYWxlcnQoZXJyKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsgLy9yZXNldCBkYXRhCgogICAgICB0aGlzLmhybmFtZSA9ICIiOwogICAgICB0aGlzLmlwdjQgPSAiIjsKICAgICAgdGhpcy5mb3JtMiA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["\r\n<template>\r\n    <div class=\"home \">\r\n        <div class=\"wrap\">\r\n\r\n            <!--Start of List of Gateways-->\r\n            <div>\r\n                <h2>Gateways</h2><button @click=\"form2=true, form=false\">Add Gateway</button>\r\n                <table id=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Serial Number</th>\r\n                            <th>Human Readable Name</th>\r\n                            <th>IPv4</th>\r\n                            <th>Buttons</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(item,index) in gateways\" :key=\"index\">\r\n                            <td>\r\n                                {{ item.serialNumber }}\r\n                            </td>\r\n                            <td>{{item.hrname}}</td>\r\n                            <td>{{item.ipv4}}</td>\r\n                            <td><button @click=\"getPeripherals(item.serialNumber), see=item.serialNumber\">See Peripherals</button> <button @click=\"form=true,selectedSN=item.serialNumber,form2=false\">Add Peripheral</button> </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div> <!--End of List of Gateways-->\r\n\r\n            <!--Start of List of peripherals-->\r\n            <div>\r\n                <h2>Peripherals for  {{see}}</h2>\r\n                <table id=\"tableright\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Count</th>\r\n                            <th>Vendor</th>\r\n                            <th>Date Created</th>\r\n                            <th>Status</th>\r\n                            <th>Buttons</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(item,index) in peripherals.peripherals\" :key=\"index\">\r\n                            <td>{{index+1}}</td>\r\n                            <td>\r\n                                {{ item.vendor }}\r\n                            </td>\r\n                            <td>{{item.dateCreated}}</td>\r\n                            <td v-if=\"item.status==1\">Online</td>\r\n                            <td v-if=\"item.status==0\">Offline</td>\r\n                            <td><button @click=\"deletePeripheral(item.uid)\">Delete Peripheral</button></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>    <!--End of List of peripherals-->\r\n        </div>\r\n\r\n        <!--Start of add Gateway form-->\r\n        <div id=\"form2\" v-if=\"form2\">\r\n            <h4>Add Gateway</h4>\r\n\r\n            <label for=\"Hrname\">HR name:</label>\r\n            <input v-model=\"hrname\" name=\"Hrname\" type=\"text\" placeholder=\"Something123\" />\r\n            <br />\r\n\r\n            <label for=\"ipv4\">IPv4</label>\r\n            <input v-model=\"ipv4\" name=\"ipv4\" type=\"text\" placeholder=\"1.1.1.1\" />\r\n\r\n            <button type=\"button\" @click=\"addGateway()\">Add Gateway</button>\r\n        </div><!--End of add Gateway form-->\r\n\r\n        <!--Start of add Peripheral form-->\r\n        <div v-if=\"form\" id=\"form\">\r\n\r\n            <h5>Add Peripheral for selected gateway: {{selectedSN}}</h5>\r\n\r\n            <label for=\"vendor\">Vendor:</label>\r\n            <input v-model=\"vendor\" name=\"vendor\" type=\"text\" placeholder=\"Vendor1\" />\r\n            <br />\r\n\r\n            <label for=\"status\">Status:</label>\r\n\r\n            <select v-model=\"status\" name=\"status\">\r\n                <option>Online</option>\r\n                <option>Offline</option>\r\n            </select>\r\n\r\n            <button type=\"button\" @click=\"addPeripheral()\">Add Peripheral</button>\r\n        </div><!--End of add Peripheral form-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import 'bootstrap/dist/css/bootstrap.css';\r\n\r\n    import axios from 'axios';\r\n    export default {\r\n        name: 'Home',\r\n        \r\n        data() {\r\n            return {\r\n                gateways: [],\r\n                peripherals: \"\",\r\n                form: false,\r\n                form2:false,\r\n                selectedSN: \"\",\r\n                vendor: \"\",\r\n                dateCreated: new Date(),\r\n                status: \"\",\r\n                hrname: \"\",\r\n                ipv4: \"\",\r\n                see:\"\"\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n\r\n             axios.get('http://localhost:1337/api/gateway')\r\n                 .then((response) => {\r\n                     this.gateways = response.data\r\n                 },\r\n                );\r\n        },\r\n\r\n         methods: {\r\n             getPeripherals(sn) {\r\n                 axios.get('http://localhost:1337/api/gateway/'+sn)\r\n                     .then((response) => {\r\n                         this.peripherals = response.data\r\n                         console.log(this.peripherals)\r\n                    },\r\n                 );\r\n             },\r\n\r\n             addPeripheral() {\r\n\r\n                 var statusp = 0;\r\n\r\n                 if (this.status === \"Online\") \r\n                     statusp = 1\r\n\r\n                 this.dateCreated = new Date();\r\n\r\n                 axios.post('http://localhost:1337/api/peripheral', { \"vendor\": this.vendor, \"dateCreated\": this.dateCreated, \"status\": statusp, \"gatewaySerialNumber\": this.selectedSN },).then((res) => {\r\n                     console.log(res.data)\r\n                     location.reload()\r\n                 }).catch((err) => {\r\n                     alert(\"Too many peripherals, only 10 allowed\")\r\n                     console.log(err)\r\n                 })\r\n                 \r\n                 this.form = false;\r\n                \r\n             },\r\n             deletePeripheral(id) {\r\n                 axios.delete('http://localhost:1337/api/peripheral/' + id).then((res) => {\r\n                     console.log(res.data);\r\n                     location.reload();\r\n                 })\r\n             },\r\n             addGateway() {\r\n                 \r\n                 if (this.hrname == \"\" || this.ipv4 == \"\") {\r\n                     alert(\"You must enter data in all fields\")\r\n                     return false;\r\n                 } \r\n                 //is ip address valid?\r\n                 if (!(/^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}$/.test(this.ipv4))) { \r\n                     alert(\"You have entered an invalid IP address!\")\r\n                     return false;\r\n                 }\r\n                   //http post command\r\n                 axios.post('http://localhost:1337/api/gateway', { \"hrname\": this.hrname, \"ipv4\": this.ipv4, \"peripherals\": [] },).then((res) => {\r\n                     console.log(res.data)\r\n                     location.reload()\r\n                 }).catch((err) => {\r\n                     alert(err)\r\n                     console.log(err)\r\n                 })\r\n\r\n                 //reset data\r\n                 this.hrname = \"\";\r\n                 this.ipv4 = \"\";\r\n                 this.form2 = false;\r\n             }\r\n        },\r\n    };\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n    #form,#form2 {\r\n        width: 500px;\r\n        padding: 20px;\r\n    }\r\n    label{\r\n        margin-right:1rem;\r\n    }\r\n    #form input, #form button, #form > select, #form2 input, #form2 button{\r\n        margin:5px;\r\n        padding:2px;\r\n        width:300px;\r\n        margin-left:0;\r\n        padding-left:4px;\r\n    }\r\n    .datetimepicker{\r\n        position:relative;\r\n    }\r\n    .wrap {\r\n        display: grid;\r\n        padding: 20px;\r\n        grid-template-columns: 50% 50%;\r\n        grid-column-gap: 30px;\r\n    }\r\n    #table, #tableright {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        border-collapse: collapse;\r\n        display:block;\r\n        margin-left:auto;\r\n        margin-right:auto;\r\n    }\r\n                #table td, #table th,#tableright td, #tableright th {\r\n                    border: 1px solid #ddd;\r\n                    padding: 8px;\r\n                }\r\n\r\n                #table tr:nth-child(even), #tableright tr:nth-child(2n) {\r\n                    background-color: #f2f2f2;\r\n                }\r\n\r\n                #table tr:hover, #tableright tr:hover {\r\n                    background-color: #ddd;\r\n                }\r\n\r\n                #table th, #tableright th {\r\n                    padding-top: 12px;\r\n                    padding-bottom: 12px;\r\n                    text-align: left;\r\n                    background-color: #04AA6D;\r\n                    color: white;\r\n                }\r\n\r\n</style>\r\n\r\n"],"sourceRoot":"src/components"}]}