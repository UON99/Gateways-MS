(function(e){function t(t){for(var a,i,l=t[0],s=t[1],u=t[2],c=0,p=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,l=1;l<r.length;l++){var s=r[l];0!==n[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Home")],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"wrap"},[r("div",[r("h2",[e._v("Gateways")]),r("button",{on:{click:function(t){e.form2=!0,e.form=!1}}},[e._v("Add Gateway")]),r("table",{attrs:{id:"table"}},[e._m(0),r("tbody",e._l(e.gateways,function(t,a){return r("tr",{key:a},[r("td",[e._v("\n                            "+e._s(t.serialNumber)+"\n                        ")]),r("td",[e._v(e._s(t.hrname))]),r("td",[e._v(e._s(t.ipv4))]),r("td",[r("button",{on:{click:function(r){e.getPeripherals(t.serialNumber)}}},[e._v("See Peripherals")]),r("button",{on:{click:function(r){e.form=!0,e.selectedSN=t.serialNumber,e.form2=!1}}},[e._v("Add Peripheral")])])])}))])]),r("div",[r("h2",[e._v("Peripherals")]),r("table",{attrs:{id:"tableright"}},[e._m(1),r("tbody",e._l(e.peripherals.peripherals,function(t,a){return r("tr",{key:a},[r("td",[e._v("\n                            "+e._s(t.vendor)+"\n                        ")]),r("td",[e._v(e._s(t.dateCreated))]),1==t.status?r("td",[e._v("Online")]):e._e(),0==t.status?r("td",[e._v("Offline")]):e._e(),r("td",[r("button",{on:{click:function(r){e.deletePeripheral(t.uid)}}},[e._v("Delete Peripheral")])])])}))])])]),e.form2?r("div",{attrs:{id:"form2"}},[r("h4",[e._v("Add Gateway")]),r("label",{attrs:{for:"SerialNumber"}},[e._v("Serial Number:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.serialNumber,expression:"serialNumber"}],attrs:{name:"SerialNumber",type:"text",placeholder:"Serial123"},domProps:{value:e.serialNumber},on:{input:function(t){t.target.composing||(e.serialNumber=t.target.value)}}}),r("br"),r("label",{attrs:{for:"Hrname"}},[e._v("HR name:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.hrname,expression:"hrname"}],attrs:{name:"Hrname",type:"text",placeholder:"Something123"},domProps:{value:e.hrname},on:{input:function(t){t.target.composing||(e.hrname=t.target.value)}}}),r("br"),r("label",{attrs:{for:"ipv4"}},[e._v("IPv4")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.ipv4,expression:"ipv4"}],attrs:{name:"ipv4",type:"text",placeholder:"1.1.1.1"},domProps:{value:e.ipv4},on:{input:function(t){t.target.composing||(e.ipv4=t.target.value)}}}),r("button",{attrs:{type:"button"},on:{click:function(t){e.addGateway()}}},[e._v("Add Gateway")])]):e._e(),e.form?r("div",{attrs:{id:"form"}},[r("h5",[e._v("Add Peripheral for selected gateway: "+e._s(e.selectedSN))]),r("label",{attrs:{for:"vendor"}},[e._v("Vendor:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.vendor,expression:"vendor"}],attrs:{name:"vendor",type:"text",placeholder:"Vendor1"},domProps:{value:e.vendor},on:{input:function(t){t.target.composing||(e.vendor=t.target.value)}}}),r("br"),r("label",{attrs:{for:"status"}},[e._v("Status:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],attrs:{name:"status"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.status=t.target.multiple?r:r[0]}}},[r("option",[e._v("Online")]),r("option",[e._v("Offline")])]),r("button",{attrs:{type:"button"},on:{click:function(t){e.addPeripheral()}}},[e._v("Add Peripheral")])]):e._e()])},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Serial Number")]),r("th",[e._v("Human Readable Name")]),r("th",[e._v("IPv4")]),r("th",[e._v("Buttons")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Vendor")]),r("th",[e._v("Date Created")]),r("th",[e._v("Status")]),r("th",[e._v("Buttons")])])])}],s=(r("f9e3"),r("bc3a")),u=r.n(s),d={name:"Home",data:function(){return{gateways:[],peripherals:"",form:!1,form2:!1,selectedSN:"",vendor:"",dateCreated:new Date,status:"",serialNumber:"",hrname:"",ipv4:""}},mounted:function(){var e=this;u.a.get("http://localhost:1337/api/gateway").then(function(t){e.gateways=t.data})},methods:{getPeripherals:function(e){var t=this;u.a.get("http://localhost:1337/api/gateway/"+e).then(function(e){t.peripherals=e.data,console.log(t.peripherals)})},addPeripheral:function(){var e=0;"Online"===this.status&&(e=1),this.dateCreated=new Date,u.a.post("http://localhost:1337/api/peripheral",{vendor:this.vendor,dateCreated:this.dateCreated,status:e,gatewaySerialNumber:this.selectedSN}).then(function(e){console.log(e.data),location.reload()}).catch(function(e){console.log(e)}),this.form=!1},deletePeripheral:function(e){u.a.delete("http://localhost:1337/api/peripheral/"+e).then(function(e){console.log(e.data),location.reload()})},addGateway:function(){return""===this.serialNumber||""==this.hrname||""==this.ipv4?(alert("You must enter data in all fields"),!1):/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(this.ipv4)?(u.a.post("http://localhost:1337/api/gateway",{serialNumber:this.serialNumber,hrname:this.hrname,ipv4:this.ipv4,peripherals:[]}).then(function(e){console.log(e.data),location.reload()}).catch(function(e){alert(e),console.log(e)}),this.serialNumber="",this.hrname="",this.ipv4="",void(this.form2=!1)):(alert("You have entered an invalid IP address!"),!1)}}},c=d,p=(r("5825"),r("2877")),v=Object(p["a"])(c,i,l,!1,null,"43412c8e",null),h=v.exports,m={name:"app",components:{Home:h}},f=m,b=Object(p["a"])(f,n,o,!1,null,null,null),_=b.exports;a["a"].config.productionTip=!0,new a["a"]({render:function(e){return e(_)}}).$mount("#app")},5825:function(e,t,r){"use strict";r("64d9")},"64d9":function(e,t,r){}});
//# sourceMappingURL=app.d8807bd7.js.map